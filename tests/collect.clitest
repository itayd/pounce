$ cd "${TESTROOT}/fixtures"
$
$ # recursive
$ "${POUNCE}" collect --nowd -rs 'dogs'; echo $?
README.md:1:I like dogs.
some/dir/animals.txt:3:dogs are the best!
0
$
$ # not recursive
$ "${POUNCE}" collect --nowd -s 'dogs'; echo $?
README.md:1:I like dogs.
0
$
$ # print
$ "${POUNCE}" collect --nowd -px md -s 'dogs'; echo $?
README.md
README.md:1:I like dogs.
0
$
$ # only certain extension
$ "${POUNCE}" collect --nowd -x md -s 'dogs'; echo $?
README.md:1:I like dogs.
0
$
$ # only certain extension
$ "${POUNCE}" collect --nowd -x txt -s 'dogs'; echo $?
0
$
$ # two extensions
$ "${POUNCE}" collect --nowd -x txt -x md -s 'meow'; echo $?
README.md:3:meow
0
$ "${POUNCE}" collect --nowd -rx txt -s 'dogs'; echo $?
some/dir/animals.txt:3:dogs are the best!
0
$
$ # inlcude binary files
$ "${POUNCE}" collect --nowd --bin -rps 'unobtanium'; echo $?
README.md
some/dir/animals.txt
some/binary
0
$ # no binary files
$ "${POUNCE}" collect --nowd -rps 'unobtanium'; echo $?
README.md
some/dir/animals.txt
0
$
$ # regex
$ "${POUNCE}" collect --nowd -rpe '^[cC]'; echo $?
README.md
README.md:2:Cats are the best.
some/dir/animals.txt
some/dir/animals.txt:4:cats are the best!
0
$
$ # regex or a string
$ "${POUNCE}" collect --nowd -re '^[cC]' -s 'dog'; echo $?
README.md:1:I like dogs.
README.md:2:Cats are the best.
some/dir/animals.txt:3:dogs are the best!
some/dir/animals.txt:4:cats are the best!
0
$
$ # two strings
$ "${POUNCE}" collect --nowd -rs 'cat' -s 'dog'; echo $?
README.md:1:I like dogs.
some/dir/animals.txt:3:dogs are the best!
some/dir/animals.txt:4:cats are the best!
0
$
$ # two regexes
$ "${POUNCE}" collect --nowd -re '^[cC]' -e '^d'; echo $?
README.md:2:Cats are the best.
some/dir/animals.txt:3:dogs are the best!
some/dir/animals.txt:4:cats are the best!
0
$
$ # wd
$ TRIM_CWD_PREFIX="${TESTROOT}/" "${POUNCE}" collect -s ''; echo $?
# wd=fixtures
README.md:1:I like dogs.
README.md:2:Cats are the best.
README.md:3:meow
0
$
$ # abs
$ TRIM_CWD_PREFIX="${TESTROOT}/" "${POUNCE}" collect -ras ''; echo $?
fixtures/README.md:1:I like dogs.
fixtures/README.md:2:Cats are the best.
fixtures/README.md:3:meow
fixtures/some/dir/animals.txt:1:pigs are the best!
fixtures/some/dir/animals.txt:2:fish are the best!
fixtures/some/dir/animals.txt:3:dogs are the best!
fixtures/some/dir/animals.txt:4:cats are the best!
fixtures/some/dir/animals.txt:5:meow
0
